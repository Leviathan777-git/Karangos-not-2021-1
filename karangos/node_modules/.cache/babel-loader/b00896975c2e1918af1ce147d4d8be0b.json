{"ast":null,"code":"var _jsxFileName = \"/workspace/Karangos-not-2021-1/karangos/src/routed/KarangosList.js\",\n    _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport { useEffect, useState } from 'react';\nimport React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport CheckBox from '@material-ui/core/Checkbox';\nimport IconButton from '@material-ui/core/IconButton';\nimport EditIcon from '@material-ui/icons/Edit';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Button from '@material-ui/core/Button';\nimport AddBoxIcon from '@material-ui/icons/AddBox';\nimport { useHistory } from 'react-router-dom';\nimport ConfirmDialog from '../ui/ConfirmDialog';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  table: {\n    minWidth: 650\n  },\n  tableRow: {\n    //linha da tabele em estado normal\n    '& button': {\n      visibility: 'hidden'\n    },\n    '&:hover': {\n      //linha da table com mouse sobreposto\n      backgroundColor: theme.palette.action.hover\n    },\n    '&:hover button': {\n      // botôes na linha com sobreposto\n      visibility: 'visible'\n    }\n  },\n  toolbar: {\n    justifyContent: 'flex-end',\n    paddingRight: 0\n  }\n}));\nexport default function KarangosList() {\n  _s();\n\n  const classes = useStyles();\n  const history = useHistory();\n  const [karangos, setKarangos] = useState([]);\n  const [dialogOpen, setDialogOpen] = useState(false);\n  const [deletetable, setDeletable] = useState();\n\n  function handleDialogClose(result) {\n    setDialogOpen(false);\n    if (result) deleteItem();\n  }\n\n  function handleDeleteClick(id) {\n    setDeletable(id);\n    setDialogOpen(true);\n  }\n\n  async function deleteItem() {\n    try {\n      await axios.delete('https://api.faustocintra.com.br/karangos/${deletable}');\n      alert('Karango excluido com sucesso');\n    } catch (error) {\n      alert('Erro: ' + error.message);\n    }\n  }\n\n  useEffect(() => {\n    const getData = async () => {\n      try {\n        let response = await axios.get('https://api.faustocintra.com.br/karangos'); // ?by=marca,modelo // para organizar\n\n        if (response.date) setKarangos(response.data);\n      } catch (error) {\n        console.error(error);\n      }\n    };\n\n    getData();\n  }, []); // quando a dependencia de um useEffect é um vetor zaio, isso indica que ele sera executado apenas\n  // uma vez, na inicializção do componente\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(ConfirmDialog, {\n      isOpen: dialogOpen,\n      onClose: handleDialogClose,\n      children: \"Deseja realmente excluir este Karango?\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \" Listagem de Karangos \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Toolbar, {\n      className: classes.toolbar,\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        color: \"secondary\",\n        variant: \"contained\",\n        size: \"large\",\n        startIcon: /*#__PURE__*/_jsxDEV(AddBoxIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 87\n        }, this),\n        onClick: () => history.push(\"/new\"),\n        children: \"Novo Karango\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(TableContainer, {\n      component: Paper,\n      children: /*#__PURE__*/_jsxDEV(Table, {\n        className: classes.table,\n        size: \"small\",\n        \"aria-label\": \"a dense table\",\n        children: [/*#__PURE__*/_jsxDEV(TableHead, {\n          children: /*#__PURE__*/_jsxDEV(TableRow, {\n            children: [/*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"right\",\n              children: \"C\\xF3d.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: \"Marca\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: \"Modelo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: \"Cor\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              children: \"Ano\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              children: \"Importado\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              children: \"Placa\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"right\",\n              children: \"Pre\\xE7o\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              children: \"Editar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              children: \"Excluir\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n          children: karangos.map(karango => /*#__PURE__*/_jsxDEV(TableRow, {\n            className: classes.tableRow,\n            children: [/*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"right\",\n              children: karango.id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: karango.marca\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: karango.modelo\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: karango.cor\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              children: karango.ano_fabricacao\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              children: /*#__PURE__*/_jsxDEV(CheckBox, {\n                checked: karango.importado === '1',\n                readOnly: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              children: karango.placa\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"right\",\n              children: Number(karango.preco).toLocaleString('pt-br', {\n                style: 'currency',\n                currency: 'BRL'\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              children: /*#__PURE__*/_jsxDEV(IconButton, {\n                \"aria-label\": \"edit\",\n                children: /*#__PURE__*/_jsxDEV(EditIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 137,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 136,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              children: /*#__PURE__*/_jsxDEV(IconButton, {\n                \"aria-label\": \"delete\",\n                onClick: () => handleDeleteClick(karango.id),\n                children: /*#__PURE__*/_jsxDEV(DeleteIcon, {\n                  color: \"error\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 142,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 141,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 37\n            }, this)]\n          }, karango.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 33\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n\n_s(KarangosList, \"Z8wkoRDdpX8E0qHIZ7Z/nxBTtEI=\", false, function () {\n  return [useStyles, useHistory];\n});\n\n_c = KarangosList;\n\nvar _c;\n\n$RefreshReg$(_c, \"KarangosList\");","map":{"version":3,"sources":["/workspace/Karangos-not-2021-1/karangos/src/routed/KarangosList.js"],"names":["axios","useEffect","useState","React","makeStyles","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","CheckBox","IconButton","EditIcon","DeleteIcon","Toolbar","Button","AddBoxIcon","useHistory","ConfirmDialog","useStyles","theme","table","minWidth","tableRow","visibility","backgroundColor","palette","action","hover","toolbar","justifyContent","paddingRight","KarangosList","classes","history","karangos","setKarangos","dialogOpen","setDialogOpen","deletetable","setDeletable","handleDialogClose","result","deleteItem","handleDeleteClick","id","delete","alert","error","message","getData","response","get","date","data","console","push","map","karango","marca","modelo","cor","ano_fabricacao","importado","placa","Number","preco","toLocaleString","style","currency"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport { useEffect, useState } from 'react';\nimport React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport CheckBox from '@material-ui/core/Checkbox';\nimport IconButton from '@material-ui/core/IconButton';\nimport EditIcon from '@material-ui/icons/Edit';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Button from '@material-ui/core/Button';\nimport AddBoxIcon from '@material-ui/icons/AddBox';\nimport {useHistory} from 'react-router-dom';\nimport ConfirmDialog from '../ui/ConfirmDialog';\n\nconst useStyles = makeStyles((theme) => ({\n    table: {\n        minWidth: 650,\n    },\n\n    tableRow: { //linha da tabele em estado normal\n        '& button': {\n            visibility: 'hidden',\n        },\n        '&:hover': { //linha da table com mouse sobreposto\n            backgroundColor: theme.palette.action.hover,\n        },\n        '&:hover button': { // botôes na linha com sobreposto\n            visibility: 'visible',\n        },\n    },\n\n    toolbar: {\n        justifyContent: 'flex-end',\n        paddingRight: 0,\n    },\n}));\n\n\n\nexport default function KarangosList() {\n    const classes = useStyles();\n\n    const history = useHistory();\n\n    const [karangos, setKarangos] = useState([])\n    const [dialogOpen, setDialogOpen] = useState(false)\n    const [deletetable, setDeletable] = useState()\n\n    function handleDialogClose(result){\n        setDialogOpen(false)\n        if(result) deleteItem()\n    }\n\n    function handleDeleteClick(id){\n        setDeletable(id)\n        setDialogOpen(true)\n    }\n\n    async function deleteItem() {\n        try{\n            await axios.delete('https://api.faustocintra.com.br/karangos/${deletable}')\n            alert('Karango excluido com sucesso')\n        }\n        catch(error){\n            alert('Erro: ' + error.message)\n        }\n    }\n\n    useEffect(() => {\n        const getData = async () => {\n            try {\n                let response = await axios.get('https://api.faustocintra.com.br/karangos') // ?by=marca,modelo // para organizar\n                if(response.date) setKarangos(response.data)\n            }\n            catch (error) {\n                console.error(error);\n            }\n        }\n        getData()\n\n    }, [])  // quando a dependencia de um useEffect é um vetor zaio, isso indica que ele sera executado apenas\n    // uma vez, na inicializção do componente\n\n    return (\n        <>\n            <ConfirmDialog isOpen={dialogOpen} onClose={handleDialogClose}>\n                Deseja realmente excluir este Karango?\n            </ConfirmDialog>\n            <h1> Listagem de Karangos </h1>\n            <Toolbar className={classes.toolbar}>\n                <Button color=\"secondary\" variant=\"contained\" size=\"large\" startIcon={<AddBoxIcon />} onClick={() => history.push(\"/new\") } >\n                    Novo Karango\n                </Button>\n            </Toolbar>\n\n            <TableContainer component={Paper}>\n                <Table className={classes.table} size=\"small\" aria-label=\"a dense table\">\n                    <TableHead>\n                        <TableRow>\n                            <TableCell align=\"right\">Cód.</TableCell>\n                            <TableCell >Marca</TableCell>\n                            <TableCell >Modelo</TableCell>\n                            <TableCell >Cor</TableCell>\n                            <TableCell align='center'>Ano</TableCell>\n                            <TableCell align='center'>Importado</TableCell>\n                            <TableCell align='center'>Placa</TableCell>\n                            <TableCell align='right'>Preço</TableCell>\n                            <TableCell align='center'>Editar</TableCell>\n                            <TableCell align='center'>Excluir</TableCell>\n                        </TableRow>\n                    </TableHead>\n                    <TableBody>\n                        {\n                            karangos.map(karango =>\n                                <TableRow key={karango.id} className={classes.tableRow}>\n                                    <TableCell align=\"right\">{karango.id}</TableCell>\n                                    <TableCell >{karango.marca}</TableCell>\n                                    <TableCell >{karango.modelo}</TableCell>\n                                    <TableCell >{karango.cor}</TableCell>\n                                    <TableCell align='center'>{karango.ano_fabricacao}</TableCell>\n                                    <TableCell align='center'>\n                                        <CheckBox checked={karango.importado === '1'} readOnly />\n                                    </TableCell>\n                                    <TableCell align='center'>{karango.placa}</TableCell>\n                                    <TableCell align='right'>\n                                        {Number(karango.preco).toLocaleString('pt-br', { style: 'currency', currency: 'BRL' })}\n                                    </TableCell>\n                                    <TableCell align='center'>\n                                        <IconButton aria-label=\"edit\">\n                                            <EditIcon />\n                                        </IconButton>\n                                    </TableCell>\n                                    <TableCell align='center'>\n                                        <IconButton aria-label=\"delete\" onClick={() => handleDeleteClick(karango.id)}>\n                                            <DeleteIcon color=\"error\" />\n                                        </IconButton>\n                                    </TableCell>\n                                </TableRow>\n                            )\n                        }\n                    </TableBody>\n                </Table>\n            </TableContainer>\n\n        </>\n    )\n}"]},"metadata":{},"sourceType":"module"}