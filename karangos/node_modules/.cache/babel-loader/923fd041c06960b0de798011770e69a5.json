{"ast":null,"code":"var _jsxFileName = \"/workspace/Karangos-not-2021-1/karangos/src/routed/KarangosList.js\",\n    _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport { useEffect, useState } from 'react';\nimport React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport CheckBox from '@material-ui/core/Checkbox';\nimport IconButton from '@material-ui/core/IconButton';\nimport EditIcon from '@material-ui/icons/Edit';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Button from '@material-ui/core/Button';\nimport AddBoxIcon from '@material-ui/icons/AddBox';\nimport { useHistory } from 'react-router-dom';\nimport ConfirmDialog from '../ui/ConfirmDialog';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport MuiAlert from '@material-ui/lab/Alert';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  table: {\n    minWidth: 650\n  },\n  tableRow: {\n    //linha da tabele em estado normal\n    '& button': {\n      visibility: 'hidden'\n    },\n    '&:hover': {\n      //linha da table com mouse sobreposto\n      backgroundColor: theme.palette.action.hover\n    },\n    '&:hover button': {\n      // botôes na linha com sobreposto\n      visibility: 'visible'\n    }\n  },\n  toolbar: {\n    justifyContent: 'flex-end',\n    paddingRight: 0\n  }\n}));\nexport default function KarangosList() {\n  _s();\n\n  const classes = useStyles();\n  const history = useHistory();\n  const [karangos, setKarangos] = useState([]);\n  const [dialogOpen, setDialogOpen] = useState(false);\n  const [deletetable, setDeletable] = useState();\n  const [snackState, setSanckState] = useState({\n    open: false,\n    severity: 'sucess',\n    message: 'Kanrangos ecluido com sucesso'\n  });\n\n  function handleDialogClose(result) {\n    setDialogOpen(false);\n    if (result) deleteItem();\n  }\n\n  function handleDeleteClick(id) {\n    setDeletable(id);\n    setDialogOpen(true);\n  }\n\n  async function deleteItem() {\n    try {\n      await axios.delete('https://api.faustocintra.com.br/karangos/${deletable}');\n      alert('Karango excluido com sucesso');\n      getData();\n      setSanckState({ ...setSanckState,\n        open: true\n      });\n    } catch (error) {\n      setSanckState({\n        open: true,\n        severity: 'error',\n        mess\n      });\n    }\n  }\n\n  async function getData() {\n    try {\n      let response = await axios.get('https://api.faustocintra.com.br/karangos'); // ?by=marca,modelo // para organizar\n\n      if (response.data.length > 0) setKarangos(response.data);\n    } catch (error) {\n      console.error(error);\n    }\n  }\n\n  useEffect(() => {\n    getData();\n  }, []); // quando a dependencia de um useEffect é um vetor zaio, isso indica que ele sera executado apenas\n  // uma vez, na inicializção do componente\n\n  function Alert(props) {\n    return /*#__PURE__*/_jsxDEV(MuiAlert, {\n      elevation: 6,\n      variant: \"filled\",\n      ...props\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 16\n    }, this);\n  }\n\n  function handleSnackClose(event, reason) {\n    if (reason === 'clickaway') return;\n    setSanckState({ ...snackState,\n      opne: false\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(ConfirmDialog, {\n      isOpen: dialogOpen,\n      onClose: handleDialogClose,\n      children: \"Deseja realmente excluir este Karango?\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n      open: snackState.open,\n      autoHideDuration: 6000,\n      onClose: handleSnackClose,\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        onClose: handleSnackClose,\n        severity: snackState.severity,\n        children: snackState.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \" Listagem de Karangos \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Toolbar, {\n      className: classes.toolbar,\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        color: \"secondary\",\n        variant: \"contained\",\n        size: \"large\",\n        startIcon: /*#__PURE__*/_jsxDEV(AddBoxIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 87\n        }, this),\n        onClick: () => history.push(\"/new\"),\n        children: \"Novo Karango\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(TableContainer, {\n      component: Paper,\n      children: /*#__PURE__*/_jsxDEV(Table, {\n        className: classes.table,\n        size: \"small\",\n        \"aria-label\": \"a dense table\",\n        children: [/*#__PURE__*/_jsxDEV(TableHead, {\n          children: /*#__PURE__*/_jsxDEV(TableRow, {\n            children: [/*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"right\",\n              children: \"C\\xF3d.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: \"Marca\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: \"Modelo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: \"Cor\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              children: \"Ano\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              children: \"Importado\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              children: \"Placa\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"right\",\n              children: \"Pre\\xE7o\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              children: \"Editar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              children: \"Excluir\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n          children: karangos.map(karango => /*#__PURE__*/_jsxDEV(TableRow, {\n            className: classes.tableRow,\n            children: [/*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"right\",\n              children: karango.id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: karango.marca\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: karango.modelo\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: karango.cor\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              children: karango.ano_fabricacao\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              children: /*#__PURE__*/_jsxDEV(CheckBox, {\n                checked: karango.importado === '1',\n                readOnly: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 161,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              children: karango.placa\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"right\",\n              children: Number(karango.preco).toLocaleString('pt-br', {\n                style: 'currency',\n                currency: 'BRL'\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              children: /*#__PURE__*/_jsxDEV(IconButton, {\n                \"aria-label\": \"edit\",\n                children: /*#__PURE__*/_jsxDEV(EditIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 169,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 168,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              children: /*#__PURE__*/_jsxDEV(IconButton, {\n                \"aria-label\": \"delete\",\n                onClick: () => handleDeleteClick(karango.id),\n                children: /*#__PURE__*/_jsxDEV(DeleteIcon, {\n                  color: \"error\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 174,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 37\n            }, this)]\n          }, karango.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 33\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n\n_s(KarangosList, \"S+GwmQAUyGe8JrcjuJaTsUJdjGQ=\", false, function () {\n  return [useStyles, useHistory];\n});\n\n_c = KarangosList;\n\nvar _c;\n\n$RefreshReg$(_c, \"KarangosList\");","map":{"version":3,"sources":["/workspace/Karangos-not-2021-1/karangos/src/routed/KarangosList.js"],"names":["axios","useEffect","useState","React","makeStyles","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","CheckBox","IconButton","EditIcon","DeleteIcon","Toolbar","Button","AddBoxIcon","useHistory","ConfirmDialog","Snackbar","MuiAlert","useStyles","theme","table","minWidth","tableRow","visibility","backgroundColor","palette","action","hover","toolbar","justifyContent","paddingRight","KarangosList","classes","history","karangos","setKarangos","dialogOpen","setDialogOpen","deletetable","setDeletable","snackState","setSanckState","open","severity","message","handleDialogClose","result","deleteItem","handleDeleteClick","id","delete","alert","getData","error","mess","response","get","data","length","console","Alert","props","handleSnackClose","event","reason","opne","push","map","karango","marca","modelo","cor","ano_fabricacao","importado","placa","Number","preco","toLocaleString","style","currency"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport { useEffect, useState } from 'react';\nimport React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport CheckBox from '@material-ui/core/Checkbox';\nimport IconButton from '@material-ui/core/IconButton';\nimport EditIcon from '@material-ui/icons/Edit';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Button from '@material-ui/core/Button';\nimport AddBoxIcon from '@material-ui/icons/AddBox';\nimport { useHistory } from 'react-router-dom';\nimport ConfirmDialog from '../ui/ConfirmDialog';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport MuiAlert from '@material-ui/lab/Alert';\n\n\nconst useStyles = makeStyles((theme) => ({\n    table: {\n        minWidth: 650,\n    },\n\n    tableRow: { //linha da tabele em estado normal\n        '& button': {\n            visibility: 'hidden',\n        },\n        '&:hover': { //linha da table com mouse sobreposto\n            backgroundColor: theme.palette.action.hover,\n        },\n        '&:hover button': { // botôes na linha com sobreposto\n            visibility: 'visible',\n        },\n    },\n\n    toolbar: {\n        justifyContent: 'flex-end',\n        paddingRight: 0,\n    },\n}));\n\n\n\nexport default function KarangosList() {\n    const classes = useStyles();\n\n    const history = useHistory();\n\n    const [karangos, setKarangos] = useState([])\n    const [dialogOpen, setDialogOpen] = useState(false)\n    const [deletetable, setDeletable] = useState()\n    const [snackState, setSanckState] = useState({\n        open: false,\n        severity: 'sucess',\n        message: 'Kanrangos ecluido com sucesso'\n    })\n\n    function handleDialogClose(result) {\n        setDialogOpen(false)\n        if (result) deleteItem()\n    }\n\n    function handleDeleteClick(id) {\n        setDeletable(id)\n        setDialogOpen(true)\n    }\n\n    async function deleteItem() {\n        try {\n            await axios.delete('https://api.faustocintra.com.br/karangos/${deletable}')\n            alert('Karango excluido com sucesso')\n            getData()\n            setSanckState({...setSanckState, open: true})\n        }\n        catch (error) {\n            setSanckState({\n                open: true,\n                severity: 'error',\n                mess\n            })\n        }\n    }\n\n    async function getData() {\n        try {\n            let response = await axios.get('https://api.faustocintra.com.br/karangos') // ?by=marca,modelo // para organizar\n            if (response.data.length > 0) setKarangos(response.data)\n        }\n        catch (error) {\n            console.error(error);\n        }\n    }\n\n    useEffect(() => {\n        getData()\n\n    }, [])  // quando a dependencia de um useEffect é um vetor zaio, isso indica que ele sera executado apenas\n    // uma vez, na inicializção do componente\n\n    function Alert(props) {\n        return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n    }\n\n    function handleSnackClose(event, reason){\n        if(reason === 'clickaway') return\n        setSanckState({...snackState, opne: false})\n    }\n\n    return (\n        <>\n            <ConfirmDialog isOpen={dialogOpen} onClose={handleDialogClose}>\n                Deseja realmente excluir este Karango?\n            </ConfirmDialog>\n\n            <Snackbar open={snackState.open} autoHideDuration={6000} onClose={handleSnackClose}>\n                <Alert onClose={handleSnackClose} severity={snackState.severity}>\n                    {snackState.message}\n                </Alert>\n            </Snackbar> \n\n            <h1> Listagem de Karangos </h1>\n\n            <Toolbar className={classes.toolbar}>\n                <Button color=\"secondary\" variant=\"contained\" size=\"large\" startIcon={<AddBoxIcon />} onClick={() => history.push(\"/new\")} >\n                    Novo Karango\n                </Button>\n            </Toolbar>\n\n            <TableContainer component={Paper}>\n                <Table className={classes.table} size=\"small\" aria-label=\"a dense table\">\n                    <TableHead>\n                        <TableRow>\n                            <TableCell align=\"right\">Cód.</TableCell>\n                            <TableCell >Marca</TableCell>\n                            <TableCell >Modelo</TableCell>\n                            <TableCell >Cor</TableCell>\n                            <TableCell align='center'>Ano</TableCell>\n                            <TableCell align='center'>Importado</TableCell>\n                            <TableCell align='center'>Placa</TableCell>\n                            <TableCell align='right'>Preço</TableCell>\n                            <TableCell align='center'>Editar</TableCell>\n                            <TableCell align='center'>Excluir</TableCell>\n                        </TableRow>\n                    </TableHead>\n                    <TableBody>\n                        {\n                            karangos.map(karango =>\n                                <TableRow key={karango.id} className={classes.tableRow}>\n                                    <TableCell align=\"right\">{karango.id}</TableCell>\n                                    <TableCell >{karango.marca}</TableCell>\n                                    <TableCell >{karango.modelo}</TableCell>\n                                    <TableCell >{karango.cor}</TableCell>\n                                    <TableCell align='center'>{karango.ano_fabricacao}</TableCell>\n                                    <TableCell align='center'>\n                                        <CheckBox checked={karango.importado === '1'} readOnly />\n                                    </TableCell>\n                                    <TableCell align='center'>{karango.placa}</TableCell>\n                                    <TableCell align='right'>\n                                        {Number(karango.preco).toLocaleString('pt-br', { style: 'currency', currency: 'BRL' })}\n                                    </TableCell>\n                                    <TableCell align='center'>\n                                        <IconButton aria-label=\"edit\">\n                                            <EditIcon />\n                                        </IconButton>\n                                    </TableCell>\n                                    <TableCell align='center'>\n                                        <IconButton aria-label=\"delete\" onClick={() => handleDeleteClick(karango.id)}>\n                                            <DeleteIcon color=\"error\" />\n                                        </IconButton>\n                                    </TableCell>\n                                </TableRow>\n                            )\n                        }\n                    </TableBody>\n                </Table>\n            </TableContainer>\n\n        </>\n    )\n}"]},"metadata":{},"sourceType":"module"}