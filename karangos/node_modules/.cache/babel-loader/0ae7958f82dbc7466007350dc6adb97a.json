{"ast":null,"code":"import _regeneratorRuntime from\"/workspace/Karangos-not-2021-1/karangos/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/workspace/Karangos-not-2021-1/karangos/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/workspace/Karangos-not-2021-1/karangos/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useEffect}from'react';import axios from'axios';import React from'react';import{makeStyles}from'@material-ui/core/styles';import Paper from'@material-ui/core/Paper';import Checkbox from'@material-ui/core/Checkbox';import IconButton from'@material-ui/core/IconButton';import DeleteIcon from'@material-ui/icons/Delete';import EditIcon from'@material-ui/icons/Edit';import Toolbar from'@material-ui/core/Toolbar';import Button from'@material-ui/core/Button';import AddBoxIcon from'@material-ui/icons/AddBox';import{useHistory}from'react-router-dom';import ConfirmDialog from'../ui/ConfirmDialog';import Snackbar from'@material-ui/core/Snackbar';import MuiAlert from'@material-ui/lab/Alert';import{DataGrid}from'@material-ui/data-grid';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{table:{minWidth:650},dataGrid:{'& .MuiDataGrid-row button':{// Esconde os botões na linha de tabela \"normal\"\nvisibility:'hidden'},'& .MuiDataGrid-row:hover button':{// Exibe os botões de volta quando o mouse passar por cima\nvisibility:'visible'}},toolbar:{justifyContent:'flex-end',paddingRight:0,margin:theme.spacing(2,0)}};});export default function KarangosList(){var classes=useStyles();// Variáveis que conterão dados PRECISAM ser inicializadas como vetores vazios\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),karangos=_useState2[0],setKarangos=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),deletable=_useState4[0],setDeletable=_useState4[1];// Código do registro a ser excluído\nvar _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),dialogOpen=_useState6[0],setDialogOpen=_useState6[1];// O diálogo de confirmação está aberto?\nvar _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),sbOpen=_useState8[0],setSbOpen=_useState8[1];var _useState9=useState('success'),_useState10=_slicedToArray(_useState9,2),sbSeverity=_useState10[0],setSbSeverity=_useState10[1];var _useState11=useState('Exclusão realizada com sucesso.'),_useState12=_slicedToArray(_useState11,2),sbMessage=_useState12[0],setSbMessage=_useState12[1];var history=useHistory();useEffect(function(){// Atrasando a busca dos dados em 100ms\nsetTimeout(function(){return getData();},100);},[]);// Quando a lista de dependências é um vetor vazio, o useEffect()\n// é executado apenas uma vez, no carregamento inicial do componente\nfunction getData(){return _getData.apply(this,arguments);}function _getData(){_getData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get('https://api.faustocintra.com.br/karangos?by=marca,modelo');case 3:response=_context.sent;if(response.data.length>0)setKarangos(response.data);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return _getData.apply(this,arguments);}function deleteItem(){return _deleteItem.apply(this,arguments);}function _deleteItem(){_deleteItem=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.delete(\"https://api.faustocintra.com.br/karangos/\".concat(deletable));case 3:getData();// Atualiza os dados da tabela\nsetSbSeverity('success');setSbMessage('Exclusão efetuada com sucesso.');_context2.next=12;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](0);setSbSeverity('error');setSbMessage('ERRO: '+_context2.t0.message);case 12:setSbOpen(true);// Exibe a snackbar\ncase 13:case\"end\":return _context2.stop();}}},_callee2,null,[[0,8]]);}));return _deleteItem.apply(this,arguments);}function handleDialogClose(result){setDialogOpen(false);// Se o usuário concordou com a exclusão \nif(result)deleteItem();}function handleDelete(id){setDeletable(id);setDialogOpen(true);}function handleSbClose(){setSbOpen(false);// Fecha a snackbar\n}var columns=[{field:'id',headerName:'Cód.',align:'right',headerAlign:'right',flex:true,disableColumnMenu:true,sortComparator:function sortComparator(v1,v2){return Number(v1)>Number(v2)?1:-1;}},{field:'marca',headerName:'Marca',flex:true},{field:'modelo',headerName:'Modelo',flex:true},{field:'cor',headerName:'Cor',align:'center',headerAlign:'center',flex:true},{field:'ano_fabricacao',headerName:'Ano',align:'center',headerAlign:'center',flex:true,sortComparator:function sortComparator(v1,v2){return Number(v1)>Number(v2)?1:-1;}},{field:'importado',headerName:'Importado?',align:'center',headerAlign:'center',flex:true,renderCell:function renderCell(params){return/*#__PURE__*/_jsx(Checkbox,{checked:params.value===\"1\",readOnly:true});}},{field:'placa',headerName:'Placa',align:'center',headerAlign:'center',flex:true},{field:'preco',headerName:'Preço',align:'right',headerAlign:'right',flex:true,valueFormatter:function valueFormatter(params){return Number(params.value).toLocaleString('pt-br',{style:'currency',currency:'BRL'});},sortComparator:function sortComparator(v1,v2){return Number(v1)>Number(v2)?1:-1;}},{field:'editar',headerName:'Editar',align:'center',headerAlign:'center',flex:true,renderCell:function renderCell(params){return/*#__PURE__*/_jsx(IconButton,{\"aria-label\":\"editar\",onClick:function onClick(){return history.push(\"/edit/\".concat(params.id));},children:/*#__PURE__*/_jsx(EditIcon,{})});}},{field:'excluir',headerName:'Excluir',align:'center',headerAlign:'center',flex:true,renderCell:function renderCell(params){return/*#__PURE__*/_jsx(IconButton,{\"aria-label\":\"excluir\",onClick:function onClick(){return handleDelete(params.id);},children:/*#__PURE__*/_jsx(DeleteIcon,{color:\"error\"})});}}];return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ConfirmDialog,{isOpen:dialogOpen,onClose:handleDialogClose,children:\"Deseja realmente excluir este karango?\"}),/*#__PURE__*/_jsx(Snackbar,{open:sbOpen,autoHideDuration:6000,onClose:handleSbClose,children:/*#__PURE__*/_jsx(MuiAlert,{elevation:6,variant:\"filled\",onClose:handleSbClose,severity:sbSeverity,children:sbMessage})}),/*#__PURE__*/_jsx(\"h1\",{children:\"Listagem de Karangos\"}),/*#__PURE__*/_jsx(Toolbar,{className:classes.toolbar,children:/*#__PURE__*/_jsx(Button,{color:\"secondary\",variant:\"contained\",size:\"large\",startIcon:/*#__PURE__*/_jsx(AddBoxIcon,{}),onClick:function onClick(){return history.push('/new');},children:\"Novo Karango\"})}),/*#__PURE__*/_jsx(Paper,{elevation:4,children:/*#__PURE__*/_jsx(DataGrid,{className:classes.dataGrid,rows:karangos,columns:columns,pageSize:10,autoHeight:true,disableSelectionOnClick:true})})]});}","map":{"version":3,"sources":["/workspace/Karangos-not-2021-1/karangos/src/routed/KarangosList2.js"],"names":["useState","useEffect","axios","React","makeStyles","Paper","Checkbox","IconButton","DeleteIcon","EditIcon","Toolbar","Button","AddBoxIcon","useHistory","ConfirmDialog","Snackbar","MuiAlert","DataGrid","useStyles","theme","table","minWidth","dataGrid","visibility","toolbar","justifyContent","paddingRight","margin","spacing","KarangosList","classes","karangos","setKarangos","deletable","setDeletable","dialogOpen","setDialogOpen","sbOpen","setSbOpen","sbSeverity","setSbSeverity","sbMessage","setSbMessage","history","setTimeout","getData","get","response","data","length","console","error","deleteItem","delete","message","handleDialogClose","result","handleDelete","id","handleSbClose","columns","field","headerName","align","headerAlign","flex","disableColumnMenu","sortComparator","v1","v2","Number","renderCell","params","value","valueFormatter","toLocaleString","style","currency","push"],"mappings":"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","sourcesContent":["import { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Checkbox from '@material-ui/core/Checkbox'\nimport IconButton from '@material-ui/core/IconButton';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport EditIcon from '@material-ui/icons/Edit';\nimport Toolbar from '@material-ui/core/Toolbar'\nimport Button from '@material-ui/core/Button'\nimport AddBoxIcon from '@material-ui/icons/AddBox';\nimport { useHistory } from 'react-router-dom'\nimport ConfirmDialog from '../ui/ConfirmDialog'\nimport Snackbar from '@material-ui/core/Snackbar';\nimport MuiAlert from '@material-ui/lab/Alert';\nimport { DataGrid } from '@material-ui/data-grid'\n\nconst useStyles = makeStyles(theme => ({\n  table: {\n    minWidth: 650,\n  },\n  dataGrid: {\n    '& .MuiDataGrid-row button': {       // Esconde os botões na linha de tabela \"normal\"\n      visibility: 'hidden'\n    },\n    '& .MuiDataGrid-row:hover button': { // Exibe os botões de volta quando o mouse passar por cima\n      visibility: 'visible'\n    }\n  },\n  toolbar: {\n    justifyContent: 'flex-end',\n    paddingRight: 0,\n    margin: theme.spacing(2, 0)\n  }\n}));\n\nexport default function KarangosList() {\n  const classes = useStyles()\n\n  // Variáveis que conterão dados PRECISAM ser inicializadas como vetores vazios\n  const [karangos, setKarangos] = useState([])\n  const [deletable, setDeletable] = useState()        // Código do registro a ser excluído\n  const [dialogOpen, setDialogOpen] = useState(false) // O diálogo de confirmação está aberto?\n  const [sbOpen, setSbOpen] = useState(false)\n  const [sbSeverity, setSbSeverity] = useState('success')\n  const [sbMessage, setSbMessage] = useState('Exclusão realizada com sucesso.')\n  \n  const history = useHistory()\n\n  useEffect(() => {\n    // Atrasando a busca dos dados em 100ms\n    setTimeout(() => getData(), 100)\n\n  }, []) // Quando a lista de dependências é um vetor vazio, o useEffect()\n         // é executado apenas uma vez, no carregamento inicial do componente\n\n  async function getData() {\n    try { // tenta buscar os dados\n      let response = await axios.get('https://api.faustocintra.com.br/karangos?by=marca,modelo')\n      if(response.data.length > 0) setKarangos(response.data)\n    }\n    catch(error) {\n      console.error(error)\n    }\n  }\n\n  async function deleteItem() {\n    try {\n      await axios.delete(`https://api.faustocintra.com.br/karangos/${deletable}`)\n      getData()     // Atualiza os dados da tabela\n      setSbSeverity('success')\n      setSbMessage('Exclusão efetuada com sucesso.')\n    }\n    catch(error) {\n      setSbSeverity('error')\n      setSbMessage('ERRO: ' + error.message)\n    }\n    setSbOpen(true)   // Exibe a snackbar\n  }\n\n  function handleDialogClose(result) {\n    setDialogOpen(false)\n\n    // Se o usuário concordou com a exclusão \n    if(result) deleteItem()\n  }\n\n  function handleDelete(id) {\n    setDeletable(id)\n    setDialogOpen(true)\n  }\n\n  function handleSbClose() {\n    setSbOpen(false)    // Fecha a snackbar\n  }\n\n  const columns = [\n    { \n      field: 'id', \n      headerName: 'Cód.',\n      align: 'right',\n      headerAlign: 'right',  \n      flex: true,\n      disableColumnMenu: true,\n      sortComparator: (v1, v2) => Number(v1) > Number(v2) ? 1 : -1\n    },\n    { \n      field: 'marca', \n      headerName: 'Marca',\n      flex: true \n    },\n    { \n      field: 'modelo', \n      headerName: 'Modelo',\n      flex: true \n    },\n    { \n      field: 'cor', \n      headerName: 'Cor',\n      align: 'center',\n      headerAlign: 'center', \n      flex: true \n    },\n    { \n      field: 'ano_fabricacao', \n      headerName: 'Ano',\n      align: 'center',\n      headerAlign: 'center', \n      flex: true,\n      sortComparator: (v1, v2) => Number(v1) > Number(v2) ? 1 : -1 \n    },\n    { \n      field: 'importado', \n      headerName: 'Importado?',\n      align: 'center', \n      headerAlign: 'center', \n      flex: true,\n      renderCell: params => (\n        <Checkbox checked={params.value === \"1\"} readOnly />\n      )\n    },\n    { \n      field: 'placa', \n      headerName: 'Placa',\n      align: 'center', \n      headerAlign: 'center', \n      flex: true \n    },\n    { \n      field: 'preco', \n      headerName: 'Preço',\n      align: 'right', \n      headerAlign: 'right', \n      flex: true,\n      valueFormatter: params => (\n        Number(params.value).toLocaleString('pt-br', { style: 'currency', currency: 'BRL' })\n      ),\n      sortComparator: (v1, v2) => Number(v1) > Number(v2) ? 1 : -1\n    },\n    { \n      field: 'editar',\n      headerName: 'Editar',\n      align: 'center', \n      headerAlign: 'center', \n      flex: true,\n      renderCell: params => (\n        <IconButton aria-label=\"editar\" onClick={() => history.push(`/edit/${params.id}`)}>\n          <EditIcon />\n        </IconButton>\n      )\n    },\n    { \n      field: 'excluir',\n      headerName: 'Excluir',\n      align: 'center', \n      headerAlign: 'center', \n      flex: true,\n      renderCell: params => (\n        <IconButton aria-label=\"excluir\" onClick={() => handleDelete(params.id)}>\n          <DeleteIcon color=\"error\" />\n        </IconButton>\n      )\n    },\n  ];\n\n  return (\n    <>\n      <ConfirmDialog isOpen={dialogOpen} onClose={handleDialogClose}>\n        Deseja realmente excluir este karango?\n      </ConfirmDialog>\n      \n      <Snackbar open={sbOpen} autoHideDuration={6000} onClose={handleSbClose}>\n        <MuiAlert elevation={6} variant=\"filled\" onClose={handleSbClose} severity={sbSeverity}>\n          {sbMessage}\n        </MuiAlert>\n      </Snackbar>\n      \n      <h1>Listagem de Karangos</h1>\n      <Toolbar className={classes.toolbar}>\n        <Button color=\"secondary\" variant=\"contained\" size=\"large\" \n          startIcon={<AddBoxIcon />} onClick={() => history.push('/new')}>\n          Novo Karango\n        </Button>\n      </Toolbar>\n      <Paper elevation={4}>\n        <DataGrid className={classes.dataGrid} rows={karangos} columns={columns} pageSize={10} autoHeight={true} disableSelectionOnClick={true} />\n      </Paper>\n    </>\n  )\n}"]},"metadata":{},"sourceType":"module"}